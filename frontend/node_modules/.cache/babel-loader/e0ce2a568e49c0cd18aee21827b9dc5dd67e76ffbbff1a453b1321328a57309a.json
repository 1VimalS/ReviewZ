{"ast":null,"code":"import _slicedToArray from\"/Users/mt_gueren_s/Desktop/reviewz/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';/*\n    HOME\n    Description: User must insert a valid link. If they do, then it sends request to flask to start creating all the necessary files\n*/import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),content=_useState2[0],setContent=_useState2[1];var handleClick=function handleClick(event){var urlpath=String(content);// Request from flask to remove the old files\naxios(\"/remove\").catch(function(error){console.error(\"Error removing: \",error);});// placed here to discourage user from spamming the submit button as that would crash the program\nnavigate('/analyzer');// Sends the request to flask to start creating the files and if an error occurs it is displayed then brings the user back to the home screen\nfetch(\"/url\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({url:urlpath})//http request ?url=urlpath\n}).then(function(response){return response.json();}).then(function(data){if(data[\"message\"]!==\"Collecting data from the US sites.\"){alert(data[\"message\"]);navigate('/');}else{document.getElementById(\"image-prep\").innerText=data[\"message\"];fetch(\"/us-scraping\").then(function(response){return response.json();}).then(function(data){document.getElementById(\"image-prep\").innerText=data[\"message\"];fetch(\"/au-scraping\").then(function(response){return response.json();}).then(function(data){document.getElementById(\"image-prep\").innerText=data[\"message\"];fetch(\"/ca-scraping\").then(function(response){return response.json();}).then(function(data){document.getElementById(\"image-prep\").innerText=data[\"message\"];fetch(\"/in-scraping\").then(function(response){return response.json();}).then(function(data){document.getElementById(\"image-prep\").innerText=data[\"message\"];fetch(\"/uk-scraping\").then(function(response){return response.json();}).then(function(data){document.getElementById(\"image-prep\").innerText=data[\"message\"];fetch(\"/tutorial-csv\").then(function(response){return response.json();}).then(function(data){document.getElementById(\"image-prep\").innerText=data[\"message\"];fetch(\"/analyzed-csv\").then(function(response){return response.json();}).then(function(data){document.getElementById(\"image-prep\").innerText=data[\"message\"];});});});});});});});}});};return/*#__PURE__*/_jsxs(\"header\",{class:\"App-home\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"ReviewZ\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Get real time feedback on how your product is doing.\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Paste your Amazon url below:\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"url_submit\",value:content,onChange:function onChange(event){return setContent(event.target.value);},placeHolder:\"Ex. https://www.amazon.com/Remote-Control-Dancing-Imitates-Animals/dp/B0B6GJ7847/ref=puwl_atf_sccl_1/131-6402069-2006342?pd_rd_w=6XAAv&content-id=amzn1.sym.b8d6fc5b-13fe-440c-8384-29c241919e84&pf_rd_p=b8d6fc5b-13fe-440c-8384-29c241919e84&pf_rd_r=R1HV2HZZKCWCSDP7YDAM&pd_rd_wg=DEZoo&pd_rd_r=c63334db-32ed-4f7e-9a4c-705d0c5c66e6&pd_rd_i=B0B6GJ7847&th=1\"}),/*#__PURE__*/_jsx(\"button\",{id:\"search-btn\",onClick:handleClick,children:/*#__PURE__*/_jsx(\"span\",{class:\"iconify-magnify\"})})]})]});}","map":{"version":3,"names":["React","useState","useNavigate","axios","Home","navigate","content","setContent","handleClick","event","urlpath","String","catch","error","console","fetch","method","headers","body","JSON","stringify","url","then","response","json","data","alert","document","getElementById","innerText","target","value"],"sources":["/Users/mt_gueren_s/Desktop/reviewz/frontend/src/pages/Home.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\n/*\n    HOME\n    Description: User must insert a valid link. If they do, then it sends request to flask to start creating all the necessary files\n*/\n\nexport default function Home() {\n    const navigate = useNavigate();\n    const [content, setContent] = useState(\"\")\n\n    const handleClick = event => {\n\n        const urlpath = String(content);\n\n        // Request from flask to remove the old files\n        axios(\"/remove\").catch(error => {\n            console.error(\"Error removing: \", error);\n        })\n\n        // placed here to discourage user from spamming the submit button as that would crash the program\n        navigate('/analyzer')\n\n        // Sends the request to flask to start creating the files and if an error occurs it is displayed then brings the user back to the home screen\n        fetch(\"/url\", {\n          method: \"POST\",\n          headers: {\"Content-Type\": \"application/json\"},\n          body: JSON.stringify({url: urlpath}), //http request ?url=urlpath\n        }).then(response =>  response.json()).then(data => {\n            if(data[\"message\"] !== \"Collecting data from the US sites.\")\n            {\n                alert(data[\"message\"])\n                navigate('/')\n            }\n            else\n            {\n                document.getElementById(\"image-prep\").innerText = data[\"message\"]\n                fetch(\"/us-scraping\").then(response => response.json()).then(data =>\n                {\n                    document.getElementById(\"image-prep\").innerText = data[\"message\"]\n                    fetch(\"/au-scraping\").then(response => response.json()).then(data =>\n                    {\n                        document.getElementById(\"image-prep\").innerText = data[\"message\"]\n                        fetch(\"/ca-scraping\").then(response => response.json()).then(data =>\n                        {\n                            document.getElementById(\"image-prep\").innerText = data[\"message\"]\n                            fetch(\"/in-scraping\").then(response => response.json()).then(data =>\n                            {\n                                document.getElementById(\"image-prep\").innerText = data[\"message\"]\n                                fetch(\"/uk-scraping\").then(response => response.json()).then(data =>\n                                {\n                                    document.getElementById(\"image-prep\").innerText = data[\"message\"]\n                                    fetch(\"/tutorial-csv\").then(response => response.json()).then(data =>\n                                    {\n                                        document.getElementById(\"image-prep\").innerText = data[\"message\"]\n                                        fetch(\"/analyzed-csv\").then(response => response.json()).then(data =>\n                                        {\n                                            document.getElementById(\"image-prep\").innerText = data[\"message\"]\n                                        })\n                                    })\n                                })\n                            })\n                        })\n                    })\n                })\n            }\n        });\n    };\n    \n    return (\n        <header class=\"App-home\">\n            <h1>ReviewZ</h1>\n            <p>\n                Get real time feedback on how your product is doing.\n            </p>\n            <label>\n                    Paste your Amazon url below:\n            </label>\n            <div>\n                <input \n                    type=\"text\" \n                    id=\"url_submit\" \n                    value = {content}\n                    onChange = {event => setContent(event.target.value)} \n                    placeHolder = \"Ex. https://www.amazon.com/Remote-Control-Dancing-Imitates-Animals/dp/B0B6GJ7847/ref=puwl_atf_sccl_1/131-6402069-2006342?pd_rd_w=6XAAv&content-id=amzn1.sym.b8d6fc5b-13fe-440c-8384-29c241919e84&pf_rd_p=b8d6fc5b-13fe-440c-8384-29c241919e84&pf_rd_r=R1HV2HZZKCWCSDP7YDAM&pd_rd_wg=DEZoo&pd_rd_r=c63334db-32ed-4f7e-9a4c-705d0c5c66e6&pd_rd_i=B0B6GJ7847&th=1\"\n                />\n                <button id=\"search-btn\" onClick={handleClick}><span class=\"iconify-magnify\" /></button>\n            </div>\n        </header>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}